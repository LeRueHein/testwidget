<?xml version="1.0" encoding="UTF-8"?>
<Module xmlns="http://www.opensocial.org/2.0" specificationVersion="2.0">
  <ModulePrefs title="Test Widget Final" 
               height="150" 
               width="300"
               author="Your Name"
               description="Widget de test">
    <Require feature="opensocial-2.0"/>
    <Require feature="dynamic-height"/>
  </ModulePrefs>
  <Content type="html">
    <![CDATA[
      <!DOCTYPE html>
      <html>
      <head>
        <style>
          .test-widget {
            padding: 15px;
            background: #e0ffe0;
            color: #060;
            border: 2px solid #4CAF50;
            border-radius: 5px;
            font-family: Arial, sans-serif;
          }
        </style>
      </head>
      <body>
        <div class="test-widget">
          <h3>‚úÖ Widget Test</h3>
          <p>Si vous voyez ce message, le widget fonctionne !</p>
          <div id="status">Initialisation...</div>
        </div>
        
        <script>
          try {
            console.log('üîß Widget initialization started');
            document.getElementById('status').innerHTML = 'Widget charg√© avec succ√®s !';
            
            // Test de gadgets API si disponible
            if (typeof gadgets !== 'undefined') {
              console.log('‚úÖ Gadgets API disponible');
              gadgets.util.registerOnLoadHandler(function() {
                console.log('‚úÖ Widget loaded via gadgets API');
              });
            } else {
              console.log('‚ö†Ô∏è Gadgets API non disponible');
            }
          } catch (error) {
            console.error('‚ùå Erreur widget:', error);
            document.getElementById('status').innerHTML = 'Erreur: ' + error.message;
          }
        </script>
      </body>
      </html>
    ]]>
  </Content>
</Module>
